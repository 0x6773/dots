#! /usr/bin/zsh

#

# Things specific to fedora are here

#

# for coloured-man
unalias man
man() {
env \
    LESS_TERMCAP_mb=$(printf "\e[1;31m") \
    LESS_TERMCAP_md=$(printf "\e[1;31m") \
    LESS_TERMCAP_me=$(printf "\e[0m") \
    LESS_TERMCAP_se=$(printf "\e[0m") \
    LESS_TERMCAP_so=$(printf "\e[1;44;33m") \
    LESS_TERMCAP_ue=$(printf "\e[0m") \
    LESS_TERMCAP_us=$(printf "\e[1;32m") \
    man "$@"
}
export PAGER="/usr/bin/most -s"

# Set volume from command line
volm()
{
  TO_VOLM=$1;
	DEV=$(pactl list sinks|grep -A1 "RUNNING"|tail -n 1|awk '{print $2}');
  if [ $TO_VOLM -gt 150 ]; then
    echo "${RED}Not more than 150"
  else
    pactl set-sink-volume $DEV "$1"%
  fi
}

volc()
{
  CURRENT_VOLM=$(amixer|grep Play|tail -n +4|tr '[' ' '|tr ']' ' '|tr '%' ' '|awk '{print $5}');
  CHANGE_VOLM=$1;
  if [ $CHANGE_VOLM -gt 0 ]; then
    while [ $CHANGE_VOLM -gt 0 ];
    do
      let CURRENT_VOLM=$CURRENT_VOLM+1
      let CHANGE_VOLM=$CHANGE_VOLM-1
      volm $CURRENT_VOLM
      python -c "import time; time.sleep(0.03)"
    done
  else
    while [ $CHANGE_VOLM -lt 0 ];
    do
      let CURRENT_VOLM=$CURRENT_VOLM-1
      let CHANGE_VOLM=$CHANGE_VOLM+1
      volm $CURRENT_VOLM
      python -c "import time; time.sleep(0.03)"
    done
  fi
}

voldance()
{
	while [ 0 ];
	do 
		volc -$1;
		volc $1;
	done
}
